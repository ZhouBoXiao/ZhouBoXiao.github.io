---
layout:     post
title:      "HTTP相关"
subtitle:   "HTTP相关"
date:       2020-03-19
author:     "ZBX"
header-img: "img/tag-bg.jpg"
tags:
    - HTTP
---

~还待进一步完善~

# HTTP的方法

- **GET**
  - 获取资源
  - GET参数是以字符串的形式出现在URL上。
- **HEAD**
  - 获取头部
- **POST**
  - 传输实体主体
  - POST参数在实体主体中，参数支持标准字符集。
- **PUT**
  - 上传文件
- **PATCH**
  - 对资源进行部分修改
- **DELETE**
  - 删除文件
- **OPTIONS**
  - 查询支持的方法
- **CONNECT**
  - 要求在与代理服务器通信时建立隧道
- **TRACE**
  - 追踪路径



# HTTP/1.1 和HTTP/1.0的区别

# HTTP/1.1 新特性

- 默认是长连接
- 支持流水线
  - 流水线是在同一条长连接上连续发出请求，而不用等待响应返回，这样可以减少延迟。
- 支持同时打开多个 TCP 连接
  - 支持虚拟主机
  - 一台服务器拥有多个域名
- 新增状态码 100
- 支持分块传输编码
  - Chunked Transfer Encoding，可以把数据分割成多块，让浏览器逐步显示页面。
- 新增缓存处理指令 max-age



# HTTP/2.0新特性

新增的性能改进不仅包括HTTP/1.1中已有的[多路复用](https://zh.wikipedia.org/wiki/多路复用)，修复[队头阻塞](https://zh.wikipedia.org/wiki/队头阻塞)问题，允许设置设定请求优先级，还包含了一个头部压缩算法(HPACK)。此外， HTTP/2 采用了二进制而非明文来打包、传输 客户端<—>服务器 间的数据。

- 多路复用（**Multiplexing**）
  - 多路复用允许同时通过单一的 HTTP/2 连接发起多重的请求-响应消息。
- 二进制分帧层
  - HTTP/2.0 将报文分成 HEADERS 帧和 DATA 帧，它们都是二进制格式的。
  - HTTP1.X中的头部信息header封装到Headers帧中，而request body将被封装到Data帧中。
  - 帧（Frame）是最小的通信单位，来自不同数据流的帧可以交错发送，然后再根据每个帧头的数据流标识符重新组装。
  - 消息：比帧大的通讯单位，是指逻辑上的HTTP消息，比如请求、响应等。由一个或多个帧组成。
  - 流：比消息大的通讯单位。是TCP连接中的一个虚拟通道，可以承载双向的消息。每个流都有一个唯一的整数标识符。
- 头部压缩
  - 头部压缩算法（HPACK）
  - HTTP/2.0 要求客户端和服务器同时维护和更新一个包含之前见过的头部字段表，从而避免了重复传输。
- 服务端推送
  - HTTP/2.0 在客户端请求一个资源时，会把相关的资源一起发送给客户端，客户端就不需要再次发起请求了。例如客户端请求 page.html 页面，服务端就把 script.js 和 style.css 等与之相关的资源一起发给客户端。
- 请求优先级
  - 把HTTP消息分为很多独立帧之后，就可以通过优化这些帧的交错和传输顺序进一步优化性能。
- 流量控制
  - 流量控制基于窗口更新帧进行，即接收方广播自己准备接收某个数据流的多少字节，以及对整个链接要接收多少个字节。
  - 流量控制有方向性，即接收方可能根据自己的情况为每个流乃至整个链接设置任意窗口大小。