---
layout:     post
title:      "MySQL相关知识"
subtitle:   "MySQL的原理、数据结构、引擎、使用、事务隔离级别等"
date:       2020-03-01
author:     "ZBX"
header-img: "img/tag-bg.jpg"
tags:
    - MySQL
---

~还待进一步完善~

## 索引

1. 什么是主键索引？

   主键索引是指唯一索引，创建表中的主键就会建立主键索引，也称聚簇索引。

2. 什么是联合索引？

   对表里的多列同时建立的索引，根据创建联合索引的顺序，以最左原则进行检索。

3. 什么是覆盖索引？

   根据辅助索引就可以直接查询到结果，而不需要回表到聚簇索引中进行再次查询，可以减少IO次数。

4. 什么是索引条件下推？

   MySQL 5.6引入了索引下推优化，可以在索引遍历过程中，对索引中包含的字段先做判断，过滤掉不符合条件的记录，减少回表字数。

## ACID

- **原子性**（Atomicity）
- **一致性**（Consistency）
- **隔离性**（Isolation）
- **持久性**（Durability）
  - `MySQL` 使用 `redo log` 来保证事务的持久性

## 四大隔离级别



## 乐观锁与悲观锁



## 多版本并发控制MVCC



##  范式



## B+ Tree 原理

1. 单次请求涉及的磁盘IO次数少（出度d大，且非叶子节点不包含表数据，树的高度小）；
2. 查询效率稳定（任何关键字的查询必须走从根结点到叶子结点，查询路径长度相同）；
3. 遍历效率高（从符合条件的某个叶子节点开始遍历即可）；叶子节点之间通过指针来连接，范围扫描将十分简单

## 索引以及优化



## 日志

- **undo log**
  - 回滚和多版本控制(`MVCC`)
  - 存储着修改之前的数据，如果有`update`，则存储对应的`delete`
- **binlog**
  - 复制和恢复数据
  - 主从服务器需要保持数据的一致性，通过`binlog`来同步数据
- **redo log**
  - `redo log`记录的是数据的**物理变化**，`binlog`记录的是数据的**逻辑变化**
  - 不会存储着**历史**所有数据的变更，**文件的内容会被覆盖的**。

## 主从复制原理、作用和实现





